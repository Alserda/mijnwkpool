<strong>Original score:  </strong>          
<% @games.each do |game| %>
  <% if game.score1 == nil && game.score2 == nil %>
    <br/>
    <br/> 
    <%= Team.find(game.team1_id).name %> x - x <%= Team.find(game.team2_id).name %>
  <% else %>
    <br/><br/><%= Team.find(game.team1_id).name %> <%= game.score1 %> - <%= game.score2 %> <%= Team.find(game.team2_id).name %> || Game ID: <%= game.id %>
  <% end %>
  <br/>
  <% @predictions.each do |prediction| %>
    <% if game.id == prediction.game_id %>
      <% if game.score1 < game.score2 && prediction.prediction1 < prediction.prediction2 %>
        <% if game.score1 == prediction.prediction1 && game.score2 == prediction.prediction2 %>
          <br/>+12 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 12%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
          <% end %>

      <% elsif game.score2 == prediction.prediction2 %>
        <br/>+7 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
        <% if prediction.pointsgiven == 1 %>
          || Punten toegekend
        <% else %>
          <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
          <% myes = scoreupdate.score + 7%>
          <% score5 = scoreupdate %>
          <% score5.score = myes %>
          <% score5.save %>
          <% prediction.pointsgiven = 1 %>
          <% prediction.save %>
        <% end %>

        <%else%>
          <br/>+5 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 5%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
          <% end %>
        <% end %>

      <% elsif game.score1 > game.score2 && prediction.prediction1 > prediction.prediction2 %>
        <% if game.score1 == prediction.prediction1 && game.score2 == prediction.prediction2 %>
          <br/>+12 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 12%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
        <% end %>

      <% elsif game.score2 == prediction.prediction2 %>
        <br/>+7 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
        <% if prediction.pointsgiven == 1 %>
          || Punten toegekend
        <% else %>
          <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
          <% myes = scoreupdate.score + 7%>
          <% score5 = scoreupdate %>
          <% score5.score = myes %>
          <% score5.save %>
          <% prediction.pointsgiven = 1 %>
          <% prediction.save %>
        <% end %>
        <% else %>
        <br/>+5 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
        <% if prediction.pointsgiven == 1 %>
          || Punten toegekend
        <% else %>
          <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
          <% myes = scoreupdate.score + 5%>
          <% score5 = scoreupdate %>
          <% score5.score = myes %>
          <% score5.save %>
          <% prediction.pointsgiven = 1 %>
          <% prediction.save %>
        <% end %>
      <% end %>

      <% elsif game.score1 == game.score2 && prediction.prediction1 == prediction.prediction2 %>
        <% if game.score1 == prediction.prediction1 && game.score2 == prediction.prediction2 %>
          <br/>+12 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 12%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
          <% end %>
        <%else%>
          <br/>+5 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 5%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
          <% end %>
        <% end %>

      <% else %>    
        <% if game.score1 == prediction.prediction1 %>
          <br/>+2 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 2%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
          <% end %>

        <% elsif game.score2 == prediction.prediction2 %>
          <br/>+2 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
          <% if prediction.pointsgiven == 1 %>
            || Punten toegekend
          <% else %>
            <% scoreupdate = Poolmembership.find(prediction.poolmembership_id) %>
            <% myes = scoreupdate.score + 2%>
            <% score5 = scoreupdate %>
            <% score5.score = myes %>
            <% score5.save %>
            <% prediction.pointsgiven = 1 %>
            <% prediction.save %>
          <% end %>

        <% else %>
          <br/>+0 || <%= prediction.prediction1 %> - <%= prediction.prediction2 %> || Game ID: <%= game.id %> || Poolmembership ID: <%= prediction.poolmembership_id %>
        <% end %>
      <% end %>
    <% else %> 
      <!-- if game.id == prediction.game_id -->
    <% end %>
  <% end %>
<% end %>

<br/>
<br/>

<strong>Score: </strong>
<br/>
<% Poolmembership.all.each do |myes| %>
  <br/><%= myes.id %> - <%= User.find(myes.user_id).nickname%> in <%= Pool.find(myes.pool_id).name %> - <%= myes.score %>
<% end %>